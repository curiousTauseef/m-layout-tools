{"version":3,"sources":["../js/layout_tools.js","../js/_pictures-info.js","../js/_device-Info.js","../js/_viewport-info.js","../js/_breakpoints.js","../js/_ui.js","../js/_load-settings.js"],"names":["_LT","lt","vers","currentScript","document","currentDir","src","split","substring","lastIndexOf","framework","dataset","fw","css","head","insertAdjacentHTML","content_wrapper","pictures","getElementsByTagName","picturesInfoTrigger","querySelector","removePicturesInfo","_toConsumableArray","forEach","element","remove","classList","showPicturesInfo","element_position","window","getComputedStyle","getPropertyValue","img_info_rows","img_props","rows","element_img","prop","concat","add","addEventListener","store_settings","pictures_info","checked","settings","lt_dinfo","innerHTML","navigator","userAgent","devicePixelRatio","screen","width","height","lt_vpinfo","body_font_size","parseFloat","body","getViewportSize","body_width","clientWidth","body_width_em","toFixed","body_height","clientHeight","body_height_em","onresize","dt_params","getAttribute","fw_breakpoints_map","bootstrap3","bootstrap4","foundation6","brkpt_wrapper","wrapper_id","wrapper","getElementById","toggle","set_hidden","add_storage","is_hidden","contains","hide_btn","hidden","default_settings","stored_settings","sessionStorage","lt_settings","JSON","parse","Object","assign","param_obj","stringify"],"mappings":"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","sourcesContent":["/* eslint no-console: 0, no-unused-vars: 0, no-empty:  0 */\n/* exported _LT */\n/*\n * layout_tools.js - 2.0 / Massimo Cassandro / 2018-2019\n*/\n\n/*\n  @codekit-append '_load-settings.js'\n  @codekit-append '_ui.js'\n  @codekit-append '_breakpoints.js'\n  @codekit-append '_viewport-info.js'\n\t@codekit-append '_device-info.js'\n  @codekit-append '_pictures-info.js'\n*/\n\nvar _LT = (() => {\n  'use strict';\n\n  let lt = {\n    vers: '2.0'\n  };\n\n  let currentScript = document.currentScript;\n  lt.currentDir = currentScript.src.split('?')[0];\n  lt.currentDir = lt.currentDir.substring(0, lt.currentDir.lastIndexOf('/'));\n\n  lt.framework = currentScript.dataset.fw || 'bootstrap4';\n  lt.css = currentScript.dataset.css || 'layout_tools.css';\n\n  // load css\n  document.head.insertAdjacentHTML('beforeend',\n    '<link rel=\"stylesheet\" href=\"' + lt.currentDir + '/' + lt.css + '?v=' + lt.vers + '\" type=\"text/css\" media=\"all\">'\n  );\n  return lt;\n})();\n\n","/* globals _LT:true */\n\n//TODO imgs without picture and with size attribute\n\n_LT = (lt => {\n  'use strict';\n\n  //ui\n  lt.content_wrapper.insertAdjacentHTML('afterbegin',\n    '<div><label><input type=\"checkbox\" class=\"lt-pictures-info-trigger\"> Pictures info</label</div>'\n  );\n\n  let pictures = document.getElementsByTagName('picture');\n\n  const picturesInfoTrigger = lt.content_wrapper.querySelector('.lt-pictures-info-trigger'),\n    removePicturesInfo = () => {\n      [...pictures].forEach(element => {\n        element.querySelector('.lt-picture-info-wrapper').remove();\n        element.classList.remove('lt-position-relative');\n      });\n    },\n\n    //img info\n    showPicturesInfo = () => {\n\n      [...pictures].forEach(element => {\n      // detect if picture element is positioned\n        let element_position = window.getComputedStyle(element).getPropertyValue('position');\n\n        const img_info_rows = () => {\n          const img_props = [\n            'src',\n            'currentSrc',\n            'srcset',\n            'sizes',\n            'media',\n            'width',\n            'height',\n            'naturalWidth',\n            'naturalHeight',\n            'id',\n            'className'\n          //'attributes'\n          ];\n\n          let rows = '',\n            element_img = element.querySelector('img');\n\n          img_props.forEach(prop => {\n            rows += `<tr><th scope=\"row\">${prop}</th><td>${element_img[prop]? element_img[prop] : '&mdash;'}</td></tr>`;\n          });\n\n          return rows;\n        };\n\n        element.insertAdjacentHTML('beforeend',\n          `<div class=\"lt-picture-info-wrapper\">\n          <details>\n            <summary>Info</summary>\n            <table>\n              <tbody>\n                ${img_info_rows()}\n              </tbody>\n            </table>\n          </details>\n        </div>`\n        );\n\n        if( element_position === 'static' ) {\n          element.classList.add('lt-position-relative');\n        }\n\n      }); // end foreach\n    }; // end showPicturesInfo\n\n\n  picturesInfoTrigger.addEventListener('click', () => {\n    lt.store_settings({pictures_info: picturesInfoTrigger.checked});\n\n    if( picturesInfoTrigger.checked ) {\n      showPicturesInfo();\n    } else {\n      removePicturesInfo();\n    }\n  }, false);\n\n  if(lt.settings.pictures_info) {\n    showPicturesInfo();\n    picturesInfoTrigger.checked = true;\n  }\n\n})(_LT || {});\n","/* globals _LT:true */\n\n_LT = (lt => {\n  'use strict';\n\n  //device info\n\n  lt.content_wrapper.insertAdjacentHTML('afterbegin', '<div class=\"lt-device-info\"></div>');\n\n  const lt_dinfo = lt.content_wrapper.querySelector('.lt-device-info');\n\n  lt_dinfo.innerHTML = '<details><summary>Device info</summary>' +\n    `<strong>userAgent</strong>: ${window.navigator.userAgent}<br>` +\n    `<strong>devicePixelRatio</strong>: ${window.devicePixelRatio}<br>` +\n    `<strong>screen.width</strong>: ${window.screen.width}&VeryThinSpace;px<br>` +\n    `<strong>screen.height</strong>: ${window.screen.height}&VeryThinSpace;px` +\n    '</details>';\n\n  return lt;\n\n})(_LT || {});\n","/* globals _LT:true */\n\n_LT = (lt => {\n  'use strict';\n\n  //viewport info\n\n  lt.content_wrapper.insertAdjacentHTML('afterbegin', '<div class=\"lt-vpinfo\"></div>');\n\n  const lt_vpinfo = lt.content_wrapper.querySelector('.lt-vpinfo'),\n    body_font_size = parseFloat(window.getComputedStyle(document.body, null)\n      .getPropertyValue('font-size')),\n    getViewportSize = function () {\n      let body_width = document.body.clientWidth,\n        body_width_em = (body_width / body_font_size).toFixed(2),\n        body_height = document.body.clientHeight,\n        body_height_em = (body_height / body_font_size).toFixed(2);\n\n      lt_vpinfo.innerHTML = '<details><summary>Viewport info</summary>' +\n        `${body_width}&VeryThinSpace;&times;&VeryThinSpace;${body_height}&VeryThinSpace;px` +\n        '<br>' +\n        `${body_width_em}&VeryThinSpace;&times;&VeryThinSpace;${body_height_em}&VeryThinSpace;em` +\n        '</details>';\n    };\n\n  getViewportSize();\n  window.onresize = getViewportSize;\n\n  return lt;\n\n})(_LT || {});\n","/* globals _LT:true */\n\n\n/*\n  caricamento indicatori breakpoint e dimensioni viewport\n\n  Se lo script Ã¨ definito  il parametro `fw: __framework__`, viene visualizzato un div informativo\n  con breakpoint attivo, dimensioni della pagina ecc.\n  e caricato un css di formattazione\n\n  __framework__ corrisponde alla sigla del fw: bootstrap3, bootstrap4, foundation6, ecc.\n\n*/\n\n_LT = (lt => {\n  'use strict';\n\n  let dt_params = {};\n  dt_params.fw = document.currentScript.getAttribute('data-fw') || 'bootstrap4';\n\n  const fw_breakpoints_map= {\n\n    bootstrap3  : '<span class=\"visible-xs-inline\">xs</span>' +\n        '<span class=\"visible-sm-inline\">sm</span>' +\n        '<span class=\"visible-md-inline\">md</span>' +\n        '<span class=\"visible-lg-inline\">lg</span>',\n\n    bootstrap4  : '<span class=\"d-sm-none\">xs</span>' +\n        '<span class=\"d-none d-sm-inline d-md-none\">sm</span>' +\n        '<span class=\"d-none d-md-inline d-lg-none\">md</span>' +\n        '<span class=\"d-none d-lg-inline d-xl-none\">lg</span>' +\n        '<span class=\"d-none d-xl-inline\">xl</span>',\n\n    foundation6 : '<span class=\"show-for-small-only\">small</span>' +\n        '<span class=\"show-for-medium-only\">medium</span>' +\n        '<span class=\"show-for-large-only\">large</span>' +\n        '<span class=\"show-for-xlarge\">xlarge</span>'\n  };\n\n  if(dt_params.fw) {\n    lt.brkpt_wrapper.innerHTML = fw_breakpoints_map[dt_params.fw];\n  }\n\n  return lt;\n\n})(_LT || {});\n","/* globals _LT:true */\n\n_LT = (lt => {\n  'use strict';\n\n  const wrapper_id = 'lt-wrapper';\n\n  document.body.insertAdjacentHTML('beforeend', '<div id=\"' + wrapper_id + '\" class=\"lt-collapsed\"></div>');\n  lt.wrapper = document.getElementById(wrapper_id);\n\n  lt.wrapper.innerHTML = `<div class=\"lt-inner-wrapper\">\n      <div class=\"lt-content\">\n        <div role=\"button\" class=\"lt-hide-show\">Nascondi</div>\n      </div>\n      <div class=\"lt-brkpt\">&#x2732;</div>\n    </div>`;\n\n  lt.content_wrapper = document.querySelector('#' + wrapper_id + ' .lt-content');\n  lt.brkpt_wrapper = document.querySelector('#' + wrapper_id + ' .lt-brkpt');\n\n  // contrazione wrapper\n  lt.brkpt_wrapper.addEventListener('click', function () {\n    lt.wrapper.classList.toggle('lt-collapsed');\n  }, false);\n\n  // wrapper invisibile\n  const set_hidden = (add_storage) => {\n    lt.wrapper.classList.toggle('lt-hidden');\n    let is_hidden = lt.wrapper.classList.contains('lt-hidden');\n    hide_btn.innerHTML = is_hidden ? 'Mostra' : 'Nascondi';\n    if(add_storage) {\n      lt.store_settings({hidden: is_hidden});\n    }\n  };\n  const hide_btn = lt.content_wrapper.querySelector('.lt-hide-show');\n  hide_btn.addEventListener('click', () => {\n    set_hidden(true);\n\n  },false);\n\n  if(lt.settings.hidden) {\n    set_hidden(false);\n  }\n\n  return lt;\n\n})(_LT || {});\n","/* globals _LT:writable */\n\n_LT = (lt => {\n  'use strict';\n\n  const default_settings = {\n    hidden: false,\n    pictures_info: false\n  };\n\n  const stored_settings = sessionStorage.lt_settings? JSON.parse(sessionStorage.lt_settings) : {};\n  lt.settings = Object.assign({}, default_settings, stored_settings );\n\n\n  lt.store_settings = (( param_obj ) => {\n    lt.settings = Object.assign({}, lt.settings, param_obj );\n    sessionStorage.lt_settings = JSON.stringify(lt.settings);\n  });\n\n  return lt;\n\n})(_LT || {});\n"]}